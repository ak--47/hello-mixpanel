<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport"
		content="width=device-width, initial-scale=1">
	<title>mixpanel demo</title>
	<!-- MIXPANEL SDK -->
	<script type="text/javascript">
		const RUDDER_WRITE_KEY = `2i6IbDB2lK60F14PQXgTvVdN9tp` //`2i6IbDB2lK60F14PQXgTvVdN9tp`;
		const RUDDER_URL = `https://mixpanelahvi.dataplane.rudderstack.com`;
		// const PROXY_URL = `https://express-proxy-lmozz6xkha-uc.a.run.app`
		// const PROXY_URL = `http://localhost:8080`
		// const MIXPANEL_CUSTOM_LIB_URL = `${PROXY_URL}/lib.min.js`;

		// RUDDER STACK
		!function () {
			"use strict"; window.RudderSnippetVersion = "3.0.6"; var sdkBaseUrl = "https://cdn.rudderlabs.com/v3"
				; var sdkName = "rsa.min.js"; var asyncScript = true; window.rudderAnalyticsBuildType = "legacy", window.rudderanalytics = []
				; var e = ["setDefaultInstanceKey", "load", "ready", "page", "track", "identify", "alias", "group", "reset", "setAnonymousId", "startSession", "endSession", "consent"]
				; for (var n = 0; n < e.length; n++) {
					var t = e[n]; window.rudderanalytics[t] = function (e) {
						return function () {
							window.rudderanalytics.push([e].concat(Array.prototype.slice.call(arguments)));
						};
					}(t);
				} try {
					new Function('return import("")'), window.rudderAnalyticsBuildType = "modern";
				} catch (a) { }
			if (window.rudderAnalyticsMount = function () {
				"undefined" == typeof globalThis && (Object.defineProperty(Object.prototype, "__globalThis_magic__", {
					get: function get() {
						return this;
					}, configurable: true
				}), __globalThis_magic__.globalThis = __globalThis_magic__,
					delete Object.prototype.__globalThis_magic__); var e = document.createElement("script")
					; e.src = "".concat(sdkBaseUrl, "/").concat(window.rudderAnalyticsBuildType, "/").concat(sdkName), e.async = asyncScript,
						document.head ? document.head.appendChild(e) : document.body.appendChild(e);
			}, "undefined" == typeof Promise || "undefined" == typeof globalThis) {
				var d = document.createElement("script")
					; d.src = "https://polyfill-fastly.io/v3/polyfill.min.js?version=3.111.0&features=Symbol%2CPromise&callback=rudderAnalyticsMount",
						d.async = asyncScript, document.head ? document.head.appendChild(d) : document.body.appendChild(d);
			} else {
				window.rudderAnalyticsMount();
			}

		}();

	</script>
</head>

<body>
	<h1>ðŸ‘‹ hello rudderstack!</h1>
	<button id="clickMe">click me</button>
	<button id="dontClickMe">don't click me</button>
	<pre>
rudderanalytics.page("Cart", "Cart Viewed", {
	path: "/best-seller/1",
	referrer: "https://www.google.com/search?q=estore+bestseller",
	search: "estore bestseller",
	title: "The best sellers offered by EStore",
	url: "https://www.estore.com/best-seller/1"
}, () => {
	console.log("page call");
});


rudderanalytics.identify("1hKOmRA4el9Zt1WSfVJIVo4GRlm", {
	firstName: "Alex",
	lastName: "Keener",
	email: "alex@example.com",
	phone: "+1-202-555-0146"
}, {
	page: {
		path: "/best-seller/1",
		referrer: "https://www.google.com/search?q=estore+bestseller",
		search: "estore bestseller",
		title: "The best sellers offered by EStore",
		url: "https://www.estore.com/best-seller/1"
	}
}, () => {
	console.log("identify call");
});


rudderanalytics.track("Order Completed", {
	revenue: 30,
	currency: "USD",
	user_actual_id: 12345
}, () => {
	console.log("track call");
});


rudderanalytics.ready(() => {
	console.log('We are all set!!!');
});
</pre>
	<script>

		rudderanalytics.ready(() => {
			debugger;


			rudderanalytics.identify(
				"1hKOmRA4el9Zt1WSfVJIVo4GRlm", {
				firstName: "Alex",
				lastName: "Keener",
				email: "alex@example.com",
				phone: "+1-202-555-0146"
			},
				() => {
					console.log("Identify event successfully submitted to the RudderStack SDK.");
				}
			);

		});


		// https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/
		window.rudderanalytics.load(RUDDER_WRITE_KEY, RUDDER_URL, {});


		//example tracking code
		document.querySelector('#clickMe').addEventListener('click', () => {
			rudderanalytics.track("click me button");
		});
		document.querySelector('#dontClickMe').addEventListener('click', () => {
			rudderanalytics.track("dont click me button");
		});

	</script>
</body>

</html>